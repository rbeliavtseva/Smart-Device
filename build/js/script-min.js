"use strict";for(var acc=document.querySelectorAll(".button-show"),lastOpenAccPanel=null,lastClickedButton=null,item=0;item<acc.length;item++)acc[item].addEventListener("click",function(e){var t=e.target;t.classList.toggle("button-show--active");var o=t.nextElementSibling;lastOpenAccPanel&&lastOpenAccPanel!==o&&(lastOpenAccPanel.style.display="none"),lastClickedButton&&lastClickedButton!==t&&lastClickedButton.classList.contains("button-show--active")&&lastClickedButton.classList.toggle("button-show--active"),"block"===o.style.display?o.style.display="none":o.style.display="block",lastOpenAccPanel=o,lastClickedButton=t});var ESC_KEYCODE=27,headerBtn=document.querySelector(".header__button"),closeBtn=document.querySelector(".popup__button-close"),popup=document.querySelector(".popup"),overlay=document.querySelector(".overlay"),textInputs=document.querySelectorAll(".input-field--popup"),body=document.querySelector("body");function existVerticalScroll(){return document.body.offsetHeight>window.innerHeight}function getBodyScrollTop(){return self.pageYOffset||document.documentElement&&document.documentElement.ScrollTop||document.body&&document.body.scrollTop}var onPopupEscPress=function(e){e.keyCode===ESC_KEYCODE&&closePopup()},focusMethod=function(){textInputs[0].focus()},openPopup=function(e){e.preventDefault(),body.dataset.scrollY=getBodyScrollTop(),popup.classList.remove("popup--closed"),popup.classList.add("popup--open"),overlay.style.display="block",focusMethod(),document.addEventListener("keydown",onPopupEscPress),overlay.addEventListener("click",closePopup),existVerticalScroll()&&(body.classList.add("body-lock"),body.style.top="-${body.dataset.scrollY}px")};headerBtn.addEventListener("click",openPopup);var closePopup=function(){popup.classList.remove("popup--open"),popup.classList.add("popup--closed"),overlay.style.display="none",document.removeEventListener("keydown",onPopupEscPress),existVerticalScroll()&&(body.classList.remove("body-lock"),window.scrollTo(0,body.dataset.scrollY))};closeBtn.addEventListener("click",closePopup);var mask={mask:"+{7}(000)-000-00-00"};if(window.iMaskJS(document.getElementById("tel-id"),mask),window.iMaskJS(document.getElementById("tel-id-popup"),mask),window.localStorage)for(var elements=document.querySelectorAll(".input-field--popup"),i=0,length=elements.length;i<length;i++)!function(e){var t=e.getAttribute("name");e.value=localStorage.getItem(t)||e.value,e.onkeyup=function(){localStorage.setItem(t,e.value)}}(elements[i]);function initSmoothScrolling(){if(!("scrollBehavior"in document.documentElement.style)){var e=400,t=location.hash?o(location.href):location.href;!function(){document.body.addEventListener("click",function(n){if(l=n.target,!("a"===l.tagName.toLowerCase()&&l.hash.length>0&&o(l.href)===t))return;var l;n.stopPropagation(),n.preventDefault(),jump(n.target.hash,{duration:e,callback:function(){var e,t;e=n.target.hash,(t=document.getElementById(e.substring(1)))&&(/^(?:a|select|input|button|textarea)$/i.test(t.tagName)||(t.tabIndex=-1),t.focus())}})},!1)}()}function o(e){return e.slice(0,e.lastIndexOf("#"))}}function jump(e,t){var o,n,l=window.pageYOffset,c={duration:t.duration,offset:t.offset||0,callback:t.callback,easing:t.easing||function(e,t,o,n){if((e/=n/2)<1)return o/2*e*e+t;return-o/2*(--e*(e-2)-1)+t}},a="string"==typeof e?c.offset+document.querySelector(e).getBoundingClientRect().top:e,s="function"==typeof c.duration?c.duration(a):c.duration;function i(e){n=e-o,window.scrollTo(0,c.easing(n,l,a,s)),n<s?requestAnimationFrame(i):(window.scrollTo(0,l+a),"function"==typeof c.callback&&c.callback())}requestAnimationFrame(function(e){o=e,i(e)})}initSmoothScrolling();